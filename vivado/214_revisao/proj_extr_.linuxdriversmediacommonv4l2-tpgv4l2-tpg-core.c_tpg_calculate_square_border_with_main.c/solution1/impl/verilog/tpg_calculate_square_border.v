// ==============================================================
// RTL generated by Vivado(TM) HLS - High-Level Synthesis from C, C++ and SystemC
// Version: 2019.1
// Copyright (C) 1986-2019 Xilinx, Inc. All Rights Reserved.
// 
// ===========================================================

`timescale 1 ns / 1 ps 

(* CORE_GENERATION_INFO="tpg_calculate_square_border,hls_ip_2019_1,{HLS_INPUT_TYPE=c,HLS_INPUT_FLOAT=0,HLS_INPUT_FIXED=0,HLS_INPUT_PART=xc7k160t-fbg484-1,HLS_INPUT_CLOCK=10.000000,HLS_INPUT_ARCH=others,HLS_SYN_CLOCK=8.375000,HLS_SYN_LAT=4,HLS_SYN_TPT=none,HLS_SYN_MEM=0,HLS_SYN_DSP=24,HLS_SYN_FF=340,HLS_SYN_LUT=1677,HLS_VERSION=2019_1}" *)

module tpg_calculate_square_border (
        ap_clk,
        ap_rst,
        ap_start,
        ap_done,
        ap_idle,
        ap_ready,
        tpg_src_width,
        tpg_src_height,
        tpg_vid_aspect,
        tpg_pix_aspect,
        tpg_border_left,
        tpg_border_left_ap_vld,
        tpg_border_width,
        tpg_border_width_ap_vld,
        tpg_border_top,
        tpg_border_top_ap_vld,
        tpg_border_height,
        tpg_border_height_ap_vld,
        tpg_square_width,
        tpg_square_width_ap_vld,
        tpg_square_left,
        tpg_square_left_ap_vld,
        tpg_square_height,
        tpg_square_height_ap_vld,
        tpg_square_top,
        tpg_square_top_ap_vld
);

parameter    ap_ST_fsm_state1 = 5'd1;
parameter    ap_ST_fsm_state2 = 5'd2;
parameter    ap_ST_fsm_state3 = 5'd4;
parameter    ap_ST_fsm_state4 = 5'd8;
parameter    ap_ST_fsm_state5 = 5'd16;

input   ap_clk;
input   ap_rst;
input   ap_start;
output   ap_done;
output   ap_idle;
output   ap_ready;
input  [31:0] tpg_src_width;
input  [31:0] tpg_src_height;
input  [31:0] tpg_vid_aspect;
input  [31:0] tpg_pix_aspect;
output  [31:0] tpg_border_left;
output   tpg_border_left_ap_vld;
output  [31:0] tpg_border_width;
output   tpg_border_width_ap_vld;
output  [31:0] tpg_border_top;
output   tpg_border_top_ap_vld;
output  [31:0] tpg_border_height;
output   tpg_border_height_ap_vld;
output  [31:0] tpg_square_width;
output   tpg_square_width_ap_vld;
output  [31:0] tpg_square_left;
output   tpg_square_left_ap_vld;
output  [31:0] tpg_square_height;
output   tpg_square_height_ap_vld;
output  [31:0] tpg_square_top;
output   tpg_square_top_ap_vld;

reg ap_done;
reg ap_idle;
reg ap_ready;
reg tpg_border_left_ap_vld;
reg tpg_border_width_ap_vld;
reg tpg_border_top_ap_vld;
reg tpg_border_height_ap_vld;
reg tpg_square_width_ap_vld;
reg tpg_square_left_ap_vld;
reg tpg_square_height_ap_vld;
reg tpg_square_top_ap_vld;

(* fsm_encoding = "none" *) reg   [4:0] ap_CS_fsm;
wire    ap_CS_fsm_state1;
reg   [28:0] tmp_1_reg_1133;
reg   [0:0] tmp_2_reg_1138;
wire    ap_CS_fsm_state2;
wire   [30:0] sq_w_3_fu_422_p3;
wire   [31:0] tpg_vid_aspect_read_read_fu_148_p2;
wire   [0:0] icmp_ln45_fu_527_p2;
reg   [0:0] icmp_ln45_reg_1171;
wire   [31:0] add_ln46_fu_553_p2;
reg   [31:0] add_ln46_reg_1175;
wire   [30:0] zext_ln46_1_fu_578_p1;
wire    ap_CS_fsm_state3;
wire    ap_CS_fsm_state4;
wire   [0:0] icmp_ln91_fu_637_p2;
reg   [0:0] icmp_ln91_reg_1190;
reg   [27:0] tmp_11_reg_1194;
wire   [31:0] zext_ln98_fu_681_p1;
wire   [0:0] icmp_ln75_fu_741_p2;
reg   [0:0] icmp_ln75_reg_1214;
reg   [27:0] tmp_8_reg_1218;
reg   [27:0] tmp_7_reg_1223;
wire   [0:0] icmp_ln59_fu_802_p2;
reg   [0:0] icmp_ln59_reg_1228;
reg   [29:0] tmp_5_reg_1232;
wire   [31:0] zext_ln66_fu_846_p1;
reg   [30:0] sq_h_1_reg_216;
reg   [30:0] ap_phi_mux_tpg_border_left_new_s_phi_fu_229_p20;
reg   [30:0] tpg_border_left_new_s_reg_225;
wire    ap_CS_fsm_state5;
reg   [31:0] ap_phi_mux_tpg_border_width_new_phi_fu_261_p20;
reg   [31:0] tpg_border_width_new_reg_258;
wire  signed [31:0] sext_ln93_fu_915_p1;
wire  signed [31:0] sext_ln77_fu_986_p1;
wire   [31:0] select_ln61_fu_1073_p3;
reg   [30:0] ap_phi_mux_tpg_border_top_new_0_phi_fu_288_p20;
reg   [30:0] tpg_border_top_new_0_reg_284;
reg   [31:0] ap_phi_mux_tpg_border_height_ne_phi_fu_320_p20;
reg   [31:0] tpg_border_height_ne_reg_315;
wire   [31:0] zext_ln82_fu_1014_p1;
wire   [31:0] select_ln37_fu_498_p3;
wire   [31:0] zext_ln49_fu_582_p1;
wire   [31:0] shl_ln32_fu_345_p2;
wire   [31:0] mul_ln32_fu_355_p1;
wire   [64:0] mul_ln32_fu_355_p2;
wire   [0:0] tmp_fu_375_p3;
wire   [1:0] trunc_ln33_fu_371_p1;
wire   [1:0] and_ln_fu_383_p3;
wire   [1:0] sub_ln33_fu_391_p2;
wire   [29:0] sq_w_fu_405_p3;
wire   [30:0] zext_ln32_fu_412_p1;
wire   [30:0] sq_w_1_fu_416_p2;
wire   [28:0] lshr_ln_fu_439_p4;
wire   [30:0] and_ln1_fu_453_p3;
wire   [31:0] zext_ln38_1_fu_461_p1;
wire   [31:0] zext_ln38_fu_449_p1;
wire   [31:0] ana_sq_w_fu_465_p2;
wire   [31:0] sub_ln40_fu_471_p2;
wire   [0:0] tmp_3_fu_476_p3;
wire   [31:0] ana_sq_w_1_fu_484_p2;
wire   [0:0] icmp_ln37_fu_433_p2;
wire   [31:0] select_ln40_fu_490_p3;
wire   [31:0] zext_ln33_fu_429_p1;
wire   [31:0] sub_ln44_fu_507_p2;
wire   [30:0] lshr_ln1_fu_512_p4;
wire   [28:0] trunc_ln46_fu_533_p1;
wire   [31:0] shl_ln46_1_fu_545_p3;
wire   [31:0] shl_ln1_fu_537_p3;
wire   [31:0] mul_ln46_fu_562_p1;
wire   [64:0] mul_ln46_fu_562_p2;
wire   [28:0] tmp_4_fu_568_p4;
wire   [31:0] sub_ln50_fu_587_p2;
wire   [30:0] lshr_ln2_fu_592_p4;
wire   [31:0] add_ln88_fu_607_p2;
wire   [31:0] shl_ln91_fu_622_p2;
wire   [31:0] add_ln91_fu_627_p2;
wire   [31:0] shl_ln91_1_fu_632_p2;
wire   [31:0] mul_ln92_fu_647_p0;
wire   [64:0] mul_ln92_fu_647_p2;
wire   [26:0] tmp_10_fu_663_p4;
wire   [27:0] and_ln6_fu_673_p3;
wire   [31:0] sub_ln99_fu_685_p2;
wire   [31:0] add_ln72_fu_700_p2;
wire   [31:0] shl_ln75_fu_715_p2;
wire   [31:0] shl_ln75_1_fu_725_p2;
wire   [31:0] shl_ln75_2_fu_730_p2;
wire   [31:0] add_ln75_fu_720_p2;
wire   [31:0] sub_ln75_fu_735_p2;
wire   [31:0] mul_ln76_fu_751_p0;
wire   [64:0] mul_ln76_fu_751_p2;
wire   [31:0] mul_ln82_fu_771_p0;
wire   [64:0] mul_ln82_fu_771_p2;
wire   [31:0] shl_ln59_fu_787_p2;
wire   [31:0] sub_ln59_fu_792_p2;
wire   [31:0] shl_ln59_1_fu_797_p2;
wire   [31:0] mul_ln60_fu_812_p0;
wire   [64:0] mul_ln60_fu_812_p2;
wire   [28:0] tmp_s_fu_828_p4;
wire   [29:0] and_ln2_fu_838_p3;
wire   [31:0] sub_ln67_fu_850_p2;
wire   [28:0] and_ln7_fu_865_p3;
wire   [31:0] zext_ln92_1_fu_876_p1;
wire   [31:0] sub_ln93_fu_880_p2;
wire   [29:0] tmp_12_fu_885_p4;
wire   [29:0] zext_ln92_fu_872_p1;
wire   [0:0] icmp_ln93_fu_895_p2;
wire   [29:0] add_ln94_fu_901_p2;
wire   [29:0] select_ln93_fu_907_p3;
wire   [31:0] sub_ln95_fu_920_p2;
wire   [28:0] and_ln5_fu_936_p3;
wire   [31:0] zext_ln76_1_fu_947_p1;
wire   [31:0] sub_ln77_fu_951_p2;
wire   [29:0] tmp_9_fu_956_p4;
wire   [29:0] zext_ln76_fu_943_p1;
wire   [0:0] icmp_ln77_fu_966_p2;
wire   [29:0] add_ln78_fu_972_p2;
wire   [29:0] select_ln77_fu_978_p3;
wire   [31:0] sub_ln79_fu_991_p2;
wire   [28:0] and_ln4_fu_1007_p3;
wire   [31:0] sub_ln83_fu_1019_p2;
wire   [30:0] and_ln3_fu_1035_p3;
wire   [31:0] zext_ln60_fu_1042_p1;
wire   [31:0] sub_ln61_fu_1046_p2;
wire   [29:0] tmp_6_fu_1051_p4;
wire   [0:0] icmp_ln61_fu_1061_p2;
wire   [31:0] add_ln62_fu_1067_p2;
wire   [31:0] sub_ln63_fu_1082_p2;
reg   [4:0] ap_NS_fsm;
wire   [64:0] mul_ln32_fu_355_p10;
wire   [64:0] mul_ln46_fu_562_p10;
wire   [64:0] mul_ln60_fu_812_p00;
wire   [64:0] mul_ln76_fu_751_p00;
wire   [64:0] mul_ln82_fu_771_p00;
wire   [64:0] mul_ln92_fu_647_p00;

// power-on initialization
initial begin
#0 ap_CS_fsm = 5'd1;
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_CS_fsm <= ap_ST_fsm_state1;
    end else begin
        ap_CS_fsm <= ap_NS_fsm;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln45_fu_527_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state2))) begin
        sq_h_1_reg_216 <= sq_w_3_fu_422_p3;
    end else if ((1'b1 == ap_CS_fsm_state3)) begin
        sq_h_1_reg_216 <= zext_ln46_1_fu_578_p1;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln59_fu_802_p2 == 1'd1) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state4))) begin
        tpg_border_height_ne_reg_315 <= zext_ln66_fu_846_p1;
    end else if (((icmp_ln45_reg_1171 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state4))) begin
        tpg_border_height_ne_reg_315 <= 32'd506;
    end else if (((icmp_ln75_reg_1214 == 1'd1) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state5))) begin
        tpg_border_height_ne_reg_315 <= zext_ln82_fu_1014_p1;
    end else if (((icmp_ln45_reg_1171 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state4))) begin
        tpg_border_height_ne_reg_315 <= 32'd442;
    end else if (((icmp_ln91_fu_637_p2 == 1'd1) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state4))) begin
        tpg_border_height_ne_reg_315 <= zext_ln98_fu_681_p1;
    end else if ((((icmp_ln59_reg_1228 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state5)) | ((icmp_ln75_reg_1214 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state5)) | ((icmp_ln91_reg_1190 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state5)) | ((icmp_ln45_reg_1171 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state4)) | (~(tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & ~(tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & ~(tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state4)))) begin
        tpg_border_height_ne_reg_315 <= tpg_src_height;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln59_reg_1228 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state5))) begin
        tpg_border_left_new_s_reg_225 <= {{sub_ln63_fu_1082_p2[31:1]}};
    end else if (((icmp_ln75_reg_1214 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state5))) begin
        tpg_border_left_new_s_reg_225 <= {{sub_ln79_fu_991_p2[31:1]}};
    end else if (((icmp_ln91_reg_1190 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state5))) begin
        tpg_border_left_new_s_reg_225 <= {{sub_ln95_fu_920_p2[31:1]}};
    end else if ((((icmp_ln75_reg_1214 == 1'd1) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state5)) | ((icmp_ln59_fu_802_p2 == 1'd1) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state4)) | ((icmp_ln91_fu_637_p2 == 1'd1) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state4)) | ((icmp_ln45_reg_1171 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state4)) | ((icmp_ln45_reg_1171 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state4)) | ((icmp_ln45_reg_1171 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state4)) | (~(tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & ~(tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & ~(tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state4)))) begin
        tpg_border_left_new_s_reg_225 <= 31'd0;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln59_fu_802_p2 == 1'd1) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state4))) begin
        tpg_border_top_new_0_reg_284 <= {{sub_ln67_fu_850_p2[31:1]}};
    end else if (((icmp_ln45_reg_1171 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state4))) begin
        tpg_border_top_new_0_reg_284 <= {{add_ln72_fu_700_p2[31:1]}};
    end else if (((icmp_ln75_reg_1214 == 1'd1) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state5))) begin
        tpg_border_top_new_0_reg_284 <= {{sub_ln83_fu_1019_p2[31:1]}};
    end else if (((icmp_ln45_reg_1171 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state4))) begin
        tpg_border_top_new_0_reg_284 <= {{add_ln88_fu_607_p2[31:1]}};
    end else if (((icmp_ln91_fu_637_p2 == 1'd1) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state4))) begin
        tpg_border_top_new_0_reg_284 <= {{sub_ln99_fu_685_p2[31:1]}};
    end else if ((((icmp_ln59_reg_1228 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state5)) | ((icmp_ln75_reg_1214 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state5)) | ((icmp_ln91_reg_1190 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state5)) | ((icmp_ln45_reg_1171 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state4)) | (~(tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & ~(tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & ~(tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state4)))) begin
        tpg_border_top_new_0_reg_284 <= 31'd0;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln59_reg_1228 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state5))) begin
        tpg_border_width_new_reg_258 <= select_ln61_fu_1073_p3;
    end else if (((icmp_ln75_reg_1214 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state5))) begin
        tpg_border_width_new_reg_258 <= sext_ln77_fu_986_p1;
    end else if (((icmp_ln91_reg_1190 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state5))) begin
        tpg_border_width_new_reg_258 <= sext_ln93_fu_915_p1;
    end else if ((((icmp_ln75_reg_1214 == 1'd1) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state5)) | ((icmp_ln59_fu_802_p2 == 1'd1) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state4)) | ((icmp_ln91_fu_637_p2 == 1'd1) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state4)) | ((icmp_ln45_reg_1171 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state4)) | ((icmp_ln45_reg_1171 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state4)) | ((icmp_ln45_reg_1171 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state4)) | (~(tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & ~(tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & ~(tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state4)))) begin
        tpg_border_width_new_reg_258 <= tpg_src_width;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln45_fu_527_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state2))) begin
        add_ln46_reg_1175[31 : 2] <= add_ln46_fu_553_p2[31 : 2];
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state2)) begin
        icmp_ln45_reg_1171 <= icmp_ln45_fu_527_p2;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state4))) begin
        icmp_ln59_reg_1228 <= icmp_ln59_fu_802_p2;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state4))) begin
        icmp_ln75_reg_1214 <= icmp_ln75_fu_741_p2;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state4))) begin
        icmp_ln91_reg_1190 <= icmp_ln91_fu_637_p2;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln91_fu_637_p2 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state4))) begin
        tmp_11_reg_1194 <= {{mul_ln92_fu_647_p2[64:37]}};
    end
end

always @ (posedge ap_clk) begin
    if (((1'b1 == ap_CS_fsm_state1) & (ap_start == 1'b1))) begin
        tmp_1_reg_1133 <= {{mul_ln32_fu_355_p2[64:36]}};
        tmp_2_reg_1138 <= sub_ln33_fu_391_p2[32'd1];
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln59_fu_802_p2 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state4))) begin
        tmp_5_reg_1232 <= {{mul_ln60_fu_812_p2[64:35]}};
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln75_fu_741_p2 == 1'd1) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state4))) begin
        tmp_7_reg_1223 <= {{mul_ln82_fu_771_p2[64:37]}};
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln75_fu_741_p2 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state4))) begin
        tmp_8_reg_1218 <= {{mul_ln76_fu_751_p2[64:37]}};
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state5)) begin
        ap_done = 1'b1;
    end else begin
        ap_done = 1'b0;
    end
end

always @ (*) begin
    if (((ap_start == 1'b0) & (1'b1 == ap_CS_fsm_state1))) begin
        ap_idle = 1'b1;
    end else begin
        ap_idle = 1'b0;
    end
end

always @ (*) begin
    if (((icmp_ln75_reg_1214 == 1'd1) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state5))) begin
        ap_phi_mux_tpg_border_height_ne_phi_fu_320_p20 = zext_ln82_fu_1014_p1;
    end else if ((((icmp_ln59_reg_1228 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state5)) | ((icmp_ln75_reg_1214 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state5)) | ((icmp_ln91_reg_1190 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state5)))) begin
        ap_phi_mux_tpg_border_height_ne_phi_fu_320_p20 = tpg_src_height;
    end else begin
        ap_phi_mux_tpg_border_height_ne_phi_fu_320_p20 = tpg_border_height_ne_reg_315;
    end
end

always @ (*) begin
    if (((icmp_ln45_reg_1171 == 1'd1) & (1'b1 == ap_CS_fsm_state5))) begin
        if (((icmp_ln59_reg_1228 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128))) begin
            ap_phi_mux_tpg_border_left_new_s_phi_fu_229_p20 = {{sub_ln63_fu_1082_p2[31:1]}};
        end else if (((icmp_ln75_reg_1214 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130))) begin
            ap_phi_mux_tpg_border_left_new_s_phi_fu_229_p20 = {{sub_ln79_fu_991_p2[31:1]}};
        end else if (((icmp_ln75_reg_1214 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130))) begin
            ap_phi_mux_tpg_border_left_new_s_phi_fu_229_p20 = 31'd0;
        end else if (((icmp_ln91_reg_1190 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129))) begin
            ap_phi_mux_tpg_border_left_new_s_phi_fu_229_p20 = {{sub_ln95_fu_920_p2[31:1]}};
        end else begin
            ap_phi_mux_tpg_border_left_new_s_phi_fu_229_p20 = tpg_border_left_new_s_reg_225;
        end
    end else begin
        ap_phi_mux_tpg_border_left_new_s_phi_fu_229_p20 = tpg_border_left_new_s_reg_225;
    end
end

always @ (*) begin
    if (((icmp_ln75_reg_1214 == 1'd1) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state5))) begin
        ap_phi_mux_tpg_border_top_new_0_phi_fu_288_p20 = {{sub_ln83_fu_1019_p2[31:1]}};
    end else if ((((icmp_ln59_reg_1228 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128) & (1'b1 == ap_CS_fsm_state5)) | ((icmp_ln75_reg_1214 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130) & (1'b1 == ap_CS_fsm_state5)) | ((icmp_ln91_reg_1190 == 1'd0) & (icmp_ln45_reg_1171 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129) & (1'b1 == ap_CS_fsm_state5)))) begin
        ap_phi_mux_tpg_border_top_new_0_phi_fu_288_p20 = 31'd0;
    end else begin
        ap_phi_mux_tpg_border_top_new_0_phi_fu_288_p20 = tpg_border_top_new_0_reg_284;
    end
end

always @ (*) begin
    if (((icmp_ln45_reg_1171 == 1'd1) & (1'b1 == ap_CS_fsm_state5))) begin
        if (((icmp_ln59_reg_1228 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd128))) begin
            ap_phi_mux_tpg_border_width_new_phi_fu_261_p20 = select_ln61_fu_1073_p3;
        end else if (((icmp_ln75_reg_1214 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130))) begin
            ap_phi_mux_tpg_border_width_new_phi_fu_261_p20 = sext_ln77_fu_986_p1;
        end else if (((icmp_ln75_reg_1214 == 1'd1) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd130))) begin
            ap_phi_mux_tpg_border_width_new_phi_fu_261_p20 = tpg_src_width;
        end else if (((icmp_ln91_reg_1190 == 1'd0) & (tpg_vid_aspect_read_read_fu_148_p2 == 32'd129))) begin
            ap_phi_mux_tpg_border_width_new_phi_fu_261_p20 = sext_ln93_fu_915_p1;
        end else begin
            ap_phi_mux_tpg_border_width_new_phi_fu_261_p20 = tpg_border_width_new_reg_258;
        end
    end else begin
        ap_phi_mux_tpg_border_width_new_phi_fu_261_p20 = tpg_border_width_new_reg_258;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state5)) begin
        ap_ready = 1'b1;
    end else begin
        ap_ready = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state5)) begin
        tpg_border_height_ap_vld = 1'b1;
    end else begin
        tpg_border_height_ap_vld = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state5)) begin
        tpg_border_left_ap_vld = 1'b1;
    end else begin
        tpg_border_left_ap_vld = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state5)) begin
        tpg_border_top_ap_vld = 1'b1;
    end else begin
        tpg_border_top_ap_vld = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state5)) begin
        tpg_border_width_ap_vld = 1'b1;
    end else begin
        tpg_border_width_ap_vld = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        tpg_square_height_ap_vld = 1'b1;
    end else begin
        tpg_square_height_ap_vld = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state2)) begin
        tpg_square_left_ap_vld = 1'b1;
    end else begin
        tpg_square_left_ap_vld = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        tpg_square_top_ap_vld = 1'b1;
    end else begin
        tpg_square_top_ap_vld = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state2)) begin
        tpg_square_width_ap_vld = 1'b1;
    end else begin
        tpg_square_width_ap_vld = 1'b0;
    end
end

always @ (*) begin
    case (ap_CS_fsm)
        ap_ST_fsm_state1 : begin
            if (((1'b1 == ap_CS_fsm_state1) & (ap_start == 1'b1))) begin
                ap_NS_fsm = ap_ST_fsm_state2;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state1;
            end
        end
        ap_ST_fsm_state2 : begin
            if (((icmp_ln45_fu_527_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state2))) begin
                ap_NS_fsm = ap_ST_fsm_state4;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state3;
            end
        end
        ap_ST_fsm_state3 : begin
            ap_NS_fsm = ap_ST_fsm_state4;
        end
        ap_ST_fsm_state4 : begin
            ap_NS_fsm = ap_ST_fsm_state5;
        end
        ap_ST_fsm_state5 : begin
            ap_NS_fsm = ap_ST_fsm_state1;
        end
        default : begin
            ap_NS_fsm = 'bx;
        end
    endcase
end

assign add_ln46_fu_553_p2 = (shl_ln46_1_fu_545_p3 + shl_ln1_fu_537_p3);

assign add_ln62_fu_1067_p2 = ($signed(zext_ln60_fu_1042_p1) + $signed(32'd4294967294));

assign add_ln72_fu_700_p2 = ($signed(tpg_src_height) + $signed(32'd4294966790));

assign add_ln75_fu_720_p2 = (tpg_src_width + shl_ln75_fu_715_p2);

assign add_ln78_fu_972_p2 = ($signed(zext_ln76_fu_943_p1) + $signed(30'd1073741822));

assign add_ln88_fu_607_p2 = ($signed(tpg_src_height) + $signed(32'd4294966854));

assign add_ln91_fu_627_p2 = (tpg_src_width + shl_ln91_fu_622_p2);

assign add_ln94_fu_901_p2 = ($signed(zext_ln92_fu_872_p1) + $signed(30'd1073741822));

assign ana_sq_w_1_fu_484_p2 = (32'd2 + ana_sq_w_fu_465_p2);

assign ana_sq_w_fu_465_p2 = (zext_ln38_1_fu_461_p1 - zext_ln38_fu_449_p1);

assign and_ln1_fu_453_p3 = {{lshr_ln_fu_439_p4}, {2'd0}};

assign and_ln2_fu_838_p3 = {{tmp_s_fu_828_p4}, {1'd0}};

assign and_ln3_fu_1035_p3 = {{tmp_5_reg_1232}, {1'd0}};

assign and_ln4_fu_1007_p3 = {{tmp_7_reg_1223}, {1'd0}};

assign and_ln5_fu_936_p3 = {{tmp_8_reg_1218}, {1'd0}};

assign and_ln6_fu_673_p3 = {{tmp_10_fu_663_p4}, {1'd0}};

assign and_ln7_fu_865_p3 = {{tmp_11_reg_1194}, {1'd0}};

assign and_ln_fu_383_p3 = {{tmp_fu_375_p3}, {1'd0}};

assign ap_CS_fsm_state1 = ap_CS_fsm[32'd0];

assign ap_CS_fsm_state2 = ap_CS_fsm[32'd1];

assign ap_CS_fsm_state3 = ap_CS_fsm[32'd2];

assign ap_CS_fsm_state4 = ap_CS_fsm[32'd3];

assign ap_CS_fsm_state5 = ap_CS_fsm[32'd4];

assign icmp_ln37_fu_433_p2 = ((tpg_vid_aspect == 32'd0) ? 1'b1 : 1'b0);

assign icmp_ln45_fu_527_p2 = ((tpg_pix_aspect == 32'd0) ? 1'b1 : 1'b0);

assign icmp_ln59_fu_802_p2 = ((sub_ln59_fu_792_p2 < shl_ln59_1_fu_797_p2) ? 1'b1 : 1'b0);

assign icmp_ln61_fu_1061_p2 = ((tmp_6_fu_1051_p4 != 30'd0) ? 1'b1 : 1'b0);

assign icmp_ln75_fu_741_p2 = ((add_ln75_fu_720_p2 < sub_ln75_fu_735_p2) ? 1'b1 : 1'b0);

assign icmp_ln77_fu_966_p2 = ((tmp_9_fu_956_p4 != 30'd0) ? 1'b1 : 1'b0);

assign icmp_ln91_fu_637_p2 = ((add_ln91_fu_627_p2 < shl_ln91_1_fu_632_p2) ? 1'b1 : 1'b0);

assign icmp_ln93_fu_895_p2 = ((tmp_12_fu_885_p4 != 30'd0) ? 1'b1 : 1'b0);

assign lshr_ln1_fu_512_p4 = {{sub_ln44_fu_507_p2[31:1]}};

assign lshr_ln2_fu_592_p4 = {{sub_ln50_fu_587_p2[31:1]}};

assign lshr_ln_fu_439_p4 = {{sq_w_3_fu_422_p3[30:2]}};

assign mul_ln32_fu_355_p1 = mul_ln32_fu_355_p10;

assign mul_ln32_fu_355_p10 = shl_ln32_fu_345_p2;

assign mul_ln32_fu_355_p2 = (65'd6871947674 * mul_ln32_fu_355_p1);

assign mul_ln46_fu_562_p1 = mul_ln46_fu_562_p10;

assign mul_ln46_fu_562_p10 = add_ln46_reg_1175;

assign mul_ln46_fu_562_p2 = (65'd6247225158 * mul_ln46_fu_562_p1);

assign mul_ln60_fu_812_p0 = mul_ln60_fu_812_p00;

assign mul_ln60_fu_812_p00 = shl_ln59_1_fu_797_p2;

assign mul_ln60_fu_812_p2 = (mul_ln60_fu_812_p0 * $signed(65'h155555556));

assign mul_ln76_fu_751_p0 = mul_ln76_fu_751_p00;

assign mul_ln76_fu_751_p00 = sub_ln75_fu_735_p2;

assign mul_ln76_fu_751_p2 = (mul_ln76_fu_751_p0 * $signed(65'h1C71C71C8));

assign mul_ln82_fu_771_p0 = mul_ln82_fu_771_p00;

assign mul_ln82_fu_771_p00 = add_ln75_fu_720_p2;

assign mul_ln82_fu_771_p2 = (mul_ln82_fu_771_p0 * $signed(65'h124924925));

assign mul_ln92_fu_647_p0 = mul_ln92_fu_647_p00;

assign mul_ln92_fu_647_p00 = shl_ln91_1_fu_632_p2;

assign mul_ln92_fu_647_p2 = (mul_ln92_fu_647_p0 * $signed(65'h1C71C71C8));

assign select_ln37_fu_498_p3 = ((icmp_ln37_fu_433_p2[0:0] === 1'b1) ? select_ln40_fu_490_p3 : zext_ln33_fu_429_p1);

assign select_ln40_fu_490_p3 = ((tmp_3_fu_476_p3[0:0] === 1'b1) ? ana_sq_w_1_fu_484_p2 : ana_sq_w_fu_465_p2);

assign select_ln61_fu_1073_p3 = ((icmp_ln61_fu_1061_p2[0:0] === 1'b1) ? add_ln62_fu_1067_p2 : zext_ln60_fu_1042_p1);

assign select_ln77_fu_978_p3 = ((icmp_ln77_fu_966_p2[0:0] === 1'b1) ? add_ln78_fu_972_p2 : zext_ln76_fu_943_p1);

assign select_ln93_fu_907_p3 = ((icmp_ln93_fu_895_p2[0:0] === 1'b1) ? add_ln94_fu_901_p2 : zext_ln92_fu_872_p1);

assign sext_ln77_fu_986_p1 = $signed(select_ln77_fu_978_p3);

assign sext_ln93_fu_915_p1 = $signed(select_ln93_fu_907_p3);

assign shl_ln1_fu_537_p3 = {{trunc_ln46_fu_533_p1}, {3'd0}};

assign shl_ln32_fu_345_p2 = tpg_src_width << 32'd1;

assign shl_ln46_1_fu_545_p3 = {{sq_w_3_fu_422_p3}, {1'd0}};

assign shl_ln59_1_fu_797_p2 = tpg_src_height << 32'd2;

assign shl_ln59_fu_787_p2 = tpg_src_width << 32'd2;

assign shl_ln75_1_fu_725_p2 = tpg_src_height << 32'd4;

assign shl_ln75_2_fu_730_p2 = tpg_src_height << 32'd1;

assign shl_ln75_fu_715_p2 = tpg_src_width << 32'd3;

assign shl_ln91_1_fu_632_p2 = tpg_src_height << 32'd4;

assign shl_ln91_fu_622_p2 = tpg_src_width << 32'd3;

assign sq_w_1_fu_416_p2 = (31'd2 + zext_ln32_fu_412_p1);

assign sq_w_3_fu_422_p3 = ((tmp_2_reg_1138[0:0] === 1'b1) ? sq_w_1_fu_416_p2 : zext_ln32_fu_412_p1);

assign sq_w_fu_405_p3 = {{tmp_1_reg_1133}, {1'd0}};

assign sub_ln33_fu_391_p2 = (trunc_ln33_fu_371_p1 - and_ln_fu_383_p3);

assign sub_ln40_fu_471_p2 = (tpg_src_width - ana_sq_w_fu_465_p2);

assign sub_ln44_fu_507_p2 = (tpg_src_width - select_ln37_fu_498_p3);

assign sub_ln50_fu_587_p2 = (tpg_src_height - zext_ln49_fu_582_p1);

assign sub_ln59_fu_792_p2 = (shl_ln59_fu_787_p2 - tpg_src_width);

assign sub_ln61_fu_1046_p2 = (tpg_src_width - zext_ln60_fu_1042_p1);

assign sub_ln63_fu_1082_p2 = (tpg_src_width - select_ln61_fu_1073_p3);

assign sub_ln67_fu_850_p2 = (tpg_src_height - zext_ln66_fu_846_p1);

assign sub_ln75_fu_735_p2 = (shl_ln75_1_fu_725_p2 - shl_ln75_2_fu_730_p2);

assign sub_ln77_fu_951_p2 = (tpg_src_width - zext_ln76_1_fu_947_p1);

assign sub_ln79_fu_991_p2 = ($signed(tpg_src_width) - $signed(sext_ln77_fu_986_p1));

assign sub_ln83_fu_1019_p2 = (tpg_src_height - zext_ln82_fu_1014_p1);

assign sub_ln93_fu_880_p2 = (tpg_src_width - zext_ln92_1_fu_876_p1);

assign sub_ln95_fu_920_p2 = ($signed(tpg_src_width) - $signed(sext_ln93_fu_915_p1));

assign sub_ln99_fu_685_p2 = (tpg_src_height - zext_ln98_fu_681_p1);

assign tmp_10_fu_663_p4 = {{add_ln91_fu_627_p2[31:5]}};

assign tmp_12_fu_885_p4 = {{sub_ln93_fu_880_p2[31:2]}};

assign tmp_3_fu_476_p3 = sub_ln40_fu_471_p2[32'd1];

assign tmp_4_fu_568_p4 = {{mul_ln46_fu_562_p2[64:36]}};

assign tmp_6_fu_1051_p4 = {{sub_ln61_fu_1046_p2[31:2]}};

assign tmp_9_fu_956_p4 = {{sub_ln77_fu_951_p2[31:2]}};

assign tmp_fu_375_p3 = mul_ln32_fu_355_p2[32'd36];

assign tmp_s_fu_828_p4 = {{sub_ln59_fu_792_p2[31:3]}};

assign tpg_border_height = ap_phi_mux_tpg_border_height_ne_phi_fu_320_p20;

assign tpg_border_left = ap_phi_mux_tpg_border_left_new_s_phi_fu_229_p20;

assign tpg_border_top = ap_phi_mux_tpg_border_top_new_0_phi_fu_288_p20;

assign tpg_border_width = ap_phi_mux_tpg_border_width_new_phi_fu_261_p20;

assign tpg_square_height = zext_ln49_fu_582_p1;

assign tpg_square_left = lshr_ln1_fu_512_p4;

assign tpg_square_top = lshr_ln2_fu_592_p4;

assign tpg_square_width = select_ln37_fu_498_p3;

assign tpg_vid_aspect_read_read_fu_148_p2 = tpg_vid_aspect;

assign trunc_ln33_fu_371_p1 = tpg_src_width[1:0];

assign trunc_ln46_fu_533_p1 = sq_w_3_fu_422_p3[28:0];

assign zext_ln32_fu_412_p1 = sq_w_fu_405_p3;

assign zext_ln33_fu_429_p1 = sq_w_3_fu_422_p3;

assign zext_ln38_1_fu_461_p1 = and_ln1_fu_453_p3;

assign zext_ln38_fu_449_p1 = lshr_ln_fu_439_p4;

assign zext_ln46_1_fu_578_p1 = tmp_4_fu_568_p4;

assign zext_ln49_fu_582_p1 = sq_h_1_reg_216;

assign zext_ln60_fu_1042_p1 = and_ln3_fu_1035_p3;

assign zext_ln66_fu_846_p1 = and_ln2_fu_838_p3;

assign zext_ln76_1_fu_947_p1 = and_ln5_fu_936_p3;

assign zext_ln76_fu_943_p1 = and_ln5_fu_936_p3;

assign zext_ln82_fu_1014_p1 = and_ln4_fu_1007_p3;

assign zext_ln92_1_fu_876_p1 = and_ln7_fu_865_p3;

assign zext_ln92_fu_872_p1 = and_ln7_fu_865_p3;

assign zext_ln98_fu_681_p1 = and_ln6_fu_673_p3;

always @ (posedge ap_clk) begin
    add_ln46_reg_1175[1:0] <= 2'b00;
end

endmodule //tpg_calculate_square_border
