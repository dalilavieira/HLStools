
****** Vivado(TM) HLS - High-Level Synthesis from C, C++ and SystemC v2019.1 (64-bit)
  **** SW Build 2552052 on Fri May 24 14:47:09 MDT 2019
  **** IP Build 2548770 on Fri May 24 18:01:18 MDT 2019
    ** Copyright 1986-2019 Xilinx, Inc. All Rights Reserved.

source /opt/xilinx/Vivado/2019.1/scripts/vivado_hls/hls.tcl -notrace
INFO: [HLS 200-10] Running '/opt/xilinx/Vivado/2019.1/bin/unwrapped/lnx64.o/vivado_hls'
INFO: [HLS 200-10] For user 'vivado' on host 'lesc-server' (Linux_x86_64 version 4.15.0-101-generic) on Wed Jun 24 18:37:15 UTC 2020
INFO: [HLS 200-10] On os Ubuntu 18.04.4 LTS
INFO: [HLS 200-10] In directory '/home/vivado/HLStools/rosetta_benchmarks'
[2Kvivado_hls> [12C[2Kvivado_hls> o[13C[2Kvivado_hls> op[14C[2Kvivado_hls> o[13C[2Kvivado_hls> [12C[2Kvivado_hls> p[13C[2Kvivado_hls> [12C[2Kvivado_hls> o[13C[2Kvivado_hls> op[14C[2Kvivado_hls> ope[15C[2Kvivado_hls> open[16C[2Kvivado_hls> open_[17C[2Kvivado_hls> open_p[18C[2Kvivado_hls> open_project[24C[2Kvivado_hls> open_project [25C[2Kvivado_hls> open_project 3[26C[2Kvivado_hls> open_project 3d/[28C[2Kvivado_hls> open_project 3d[27C
INFO: [HLS 200-10] Opening project '/home/vivado/HLStools/rosetta_benchmarks/3d'.
0
[2Kvivado_hls> [12C[2Kvivado_hls> c[13C[2Kvivado_hls> cd[14C[2Kvivado_hls> cd [15C[2Kvivado_hls> cd 3[16C[2Kvivado_hls> cd 3d[17C
[2Kvivado_hls> [12C[2Kvivado_hls> o[13C[2Kvivado_hls> op[14C[2Kvivado_hls> ope[15C[2Kvivado_hls> open[16C[2K
[1;32mopen 
open_project 
open_solution 
[0m[32mopen 
openssl 
openssl.exe 
openvpn 
openvt 
[0m
[2Kvivado_hls> open[16C[2Kvivado_hls> open_[17C[2Kvivado_hls> open_s[18C[2Kvivado_hls> open_solution[25C[2Kvivado_hls> open_solution [26C[2Kvivado_hls> open_solution s[27C[2Kvivado_hls> open_solution so[28C[2Kvivado_hls> open_solution sol/[30C[2Kvivado_hls> open_solution sol[29C
INFO: [HLS 200-10] Opening solution '/home/vivado/HLStools/rosetta_benchmarks/3d/sol'.
INFO: [SYN 201-201] Setting up clock 'default' with a period of 10ns.
INFO: [HLS 200-10] Setting target device to 'xc7k160t-fbg484-1'
/home/vivado/HLStools/rosetta_benchmarks/3d/vivado_hls.app
[2Kvivado_hls> [12C[2Kvivado_hls> l[13C[2Kvivado_hls> ls[14C
a.out
digit
rendering_sw.cpp
rendering_sw.h
sol
typedefs.h
typedefs.h.gch
vivado_hls.app
[2Kvivado_hls> [12C[2Kvivado_hls> a[13C[2Kvivado_hls> ad[14C[2Kvivado_hls> add[15C[2Kvivado_hls> add_f[17C[2Kvivado_hls> add_files[21C[2Kvivado_hls> add_files [22C[2Kvivado_hls> add_files r[23C[2Kvivado_hls> add_files re[24C[2K
[35mres 
[0m[0mrendering_sw.cpp 
rendering_sw.h 
[0m
[2Kvivado_hls> add_files re[24C[2Kvivado_hls> add_files ren[25C[2Kvivado_hls> add_files rend[26C[2Kvivado_hls> add_files rendering_sw.[35C[2Kvivado_hls> add_files rendering_sw.c[36C[2Kvivado_hls> add_files rendering_sw.cpp[38C
INFO: [HLS 200-10] Adding design file 'rendering_sw.cpp' to the project
[2Kvivado_hls> [12C[2Kvivado_hls> add_files rendering_sw.cpp[38C[2Kvivado_hls> add_files rendering_sw.cp[37C[2Kvivado_hls> add_files rendering_sw.c[36C[2Kvivado_hls> add_files rendering_sw.[35C[2Kvivado_hls> add_files rendering_sw.h[36C
INFO: [HLS 200-10] Adding design file 'rendering_sw.h' to the project
[2Kvivado_hls> [12C[2Kvivado_hls> c[13C[2Kvivado_hls> ca[14C[2Kvivado_hls> cat[15C[2Kvivado_hls> cat [16C[2Kvivado_hls> cat e[17C[2Kvivado_hls> cat [16C[2Kvivado_hls> cat r[17C[2Kvivado_hls> cat re[18C[2Kvivado_hls> cat re[18C[2Kvivado_hls> cat ren[19C[2Kvivado_hls> cat rend[20C[2Kvivado_hls> cat rendering_sw.[29C[2Kvivado_hls> cat rendering_sw.c[30C[2Kvivado_hls> cat rendering_sw.cpp[32C
/*===============================================================*/
/*                                                               */
/*                      rendering_sw.cpp                         */
/*                                                               */
/*              Software version for 3D Rendering                */
/*                                                               */
/*===============================================================*/

#include "rendering_sw.h"
#define SW

/*======================UTILITY FUNCTIONS========================*/


// Determine whether three vertices of a trianlgLe
// (x0,y0) (x1,y1) (x2,y2) are in clockwise order by Pineda algorithm
// if so, return a number > 0
// else if three points are in line, return a number == 0
// else in counterclockwise order, return a number < 0
int check_clockwise( Triangle_2D triangle_2d )
{
  int cw;

  cw = (triangle_2d.x2 - triangle_2d.x0) * (triangle_2d.y1 - triangle_2d.y0)
       - (triangle_2d.y2 - triangle_2d.y0) * (triangle_2d.x1 - triangle_2d.x0);

  return cw;

}

// swap (x0, y0) (x1, y1) of a Triangle_2D
void clockwise_vertices( Triangle_2D *triangle_2d )
{

  bit8 tmp_x, tmp_y;

  tmp_x = triangle_2d->x0;
  tmp_y = triangle_2d->y0;

  triangle_2d->x0 = triangle_2d->x1;
  triangle_2d->y0 = triangle_2d->y1;

  triangle_2d->x1 = tmp_x;
  triangle_2d->y1 = tmp_y;

}


// Given a pixel, determine whether it is inside the triangle
// by Pineda algorithm
// if so, return true
// else, return false
bool pixel_in_triangle( bit8 x, bit8 y, Triangle_2D triangle_2d )
{

  int pi0, pi1, pi2;

  pi0 = (x - triangle_2d.x0) * (triangle_2d.y1 - triangle_2d.y0) - (y - triangle_2d.y0) * (triangle_2d.x1 - triangle_2d.x0);
  pi1 = (x - triangle_2d.x1) * (triangle_2d.y2 - triangle_2d.y1) - (y - triangle_2d.y1) * (triangle_2d.x2 - triangle_2d.x1);
  pi2 = (x - triangle_2d.x2) * (triangle_2d.y0 - triangle_2d.y2) - (y - triangle_2d.y2) * (triangle_2d.x0 - triangle_2d.x2);

  return (pi0 >= 0 && pi1 >= 0 && pi2 >= 0);
}

// find the min from 3 integers
bit8 find_min( bit8 in0, bit8 in1, bit8 in2 )
{
  if (in0 < in1)
  {
    if (in0 < in2)
      return in0;
    else 
      return in2;
  }
  else 
  {
    if (in1 < in2) 
      return in1;
    else 
      return in2;
  }
}


// find the max from 3 integers
bit8 find_max( bit8 in0, bit8 in1, bit8 in2 )
{
  if (in0 > in1)
  {
    if (in0 > in2)
      return in0;
    else 
      return in2;
  }
  else 
  {
    if (in1 > in2) 
      return in1;
    else 
      return in2;
  }
}

/*======================PROCESSING STAGES========================*/

// project a 3D triangle to a 2D triangle
void projection ( Triangle_3D triangle_3d, Triangle_2D *triangle_2d, int angle )
{
  // Setting camera to (0,0,-1), the canvas at z=0 plane
  // The 3D model lies in z>0 space
  // The coordinate on canvas is proportional to the corresponding coordinate 
  // on space
  if(angle == 0)
  {
    triangle_2d->x0 = triangle_3d.x0;
    triangle_2d->y0 = triangle_3d.y0;
    triangle_2d->x1 = triangle_3d.x1;
    triangle_2d->y1 = triangle_3d.y1;
    triangle_2d->x2 = triangle_3d.x2;
    triangle_2d->y2 = triangle_3d.y2;
    triangle_2d->z  = triangle_3d.z0 / 3 + triangle_3d.z1 / 3 + triangle_3d.z2 / 3;
  }

  else if(angle == 1)
  {
    triangle_2d->x0 = triangle_3d.x0;
    triangle_2d->y0 = triangle_3d.z0;
    triangle_2d->x1 = triangle_3d.x1;
    triangle_2d->y1 = triangle_3d.z1;
    triangle_2d->x2 = triangle_3d.x2;
    triangle_2d->y2 = triangle_3d.z2;
    triangle_2d->z  = triangle_3d.y0 / 3 + triangle_3d.y1 / 3 + triangle_3d.y2 / 3;
  }
      
  else if(angle == 2)
  {
    triangle_2d->x0 = triangle_3d.z0;
    triangle_2d->y0 = triangle_3d.y0;
    triangle_2d->x1 = triangle_3d.z1;
    triangle_2d->y1 = triangle_3d.y1;
    triangle_2d->x2 = triangle_3d.z2;
    triangle_2d->y2 = triangle_3d.y2;
    triangle_2d->z  = triangle_3d.x0 / 3 + triangle_3d.x1 / 3 + triangle_3d.x2 / 3;
  }
}

// calculate bounding box for a 2D triangle
bool rasterization1 ( Triangle_2D triangle_2d, bit8 max_min[], int max_index[])
{
  // clockwise the vertices of input 2d triangle
  if ( check_clockwise( triangle_2d ) == 0 )
    return 1;
  if ( check_clockwise( triangle_2d ) < 0 )
    clockwise_vertices( &triangle_2d );

  // find the rectangle bounds of 2D triangles
  max_min[0] = find_min( triangle_2d.x0, triangle_2d.x1, triangle_2d.x2 );
  max_min[1] = find_max( triangle_2d.x0, triangle_2d.x1, triangle_2d.x2 );
  max_min[2] = find_min( triangle_2d.y0, triangle_2d.y1, triangle_2d.y2 );
  max_min[3] = find_max( triangle_2d.y0, triangle_2d.y1, triangle_2d.y2 );
  max_min[4] = max_min[1] - max_min[0];

  // calculate index for searching pixels
  max_index[0] = (max_min[1] - max_min[0]) * (max_min[3] - max_min[2]);

  return 0;
}

// find pixels in the triangles from the bounding box
int rasterization2 ( bool flag, bit8 max_min[], int max_index[], Triangle_2D triangle_2d, CandidatePixel fragment[] )
{
  // clockwise the vertices of input 2d triangle
  if ( flag )
  {
    return 0;
  }

  bit8 color = 100;
  int i = 0;

  RAST2: for ( int k = 0; k < max_index[0]; k ++ )
  {
    bit8 x = max_min[0] + k % max_min[4];
    bit8 y = max_min[2] + k / max_min[4];

    if( pixel_in_triangle( x, y, triangle_2d ) )
    {
      fragment[i].x = x;
      fragment[i].y = y;
      fragment[i].z = triangle_2d.z;
      fragment[i].color = color;
      i++;
    }
  }

  return i;
}

// filter hidden pixels
int zculling ( int counter, CandidatePixel fragments[], int size, Pixel pixels[])
{

  // initilize the z-buffer in rendering first triangle for an image
  static bit8 z_buffer[MAX_X][MAX_Y];
  if (counter == 0)
  {
    ZCULLING_INIT_ROW: for ( int i = 0; i < MAX_X; i ++ )
    {
      ZCULLING_INIT_COL: for ( int j = 0; j < MAX_Y; j ++ )
      {
        z_buffer[i][j] = 255;
      }
    }
  }

  // pixel counter
  int pixel_cntr = 0;
  
  // update z-buffer and pixels
  ZCULLING: for ( int n = 0; n < size; n ++ ) 
  {
    if( fragments[n].z < z_buffer[fragments[n].y][fragments[n].x] )
    {
      pixels[pixel_cntr].x     = fragments[n].x;
      pixels[pixel_cntr].y     = fragments[n].y;
      pixels[pixel_cntr].color = fragments[n].color;
      pixel_cntr++;
      z_buffer[fragments[n].y][fragments[n].x] = fragments[n].z;
    }
  }

  return pixel_cntr;
}

// color the frame buffer
void coloringFB(int counter, int size_pixels, Pixel pixels[], bit8 frame_buffer[MAX_X][MAX_Y])
{

  if ( counter == 0 )
  {
    // initilize the framebuffer for a new image
    COLORING_FB_INIT_ROW: for ( int i = 0; i < MAX_X; i ++ )
    {
      COLORING_FB_INIT_COL: for ( int j = 0; j < MAX_Y; j ++ )
        frame_buffer[i][j] = 0;
    }
  }

  // update the framebuffer
  COLORING_FB: for ( int i = 0; i < size_pixels; i ++ )
    frame_buffer[ pixels[i].x ][ pixels[i].y ] = pixels[i].color;

}

/*========================TOP FUNCTION===========================*/
void rendering_sw( Triangle_3D triangle_3ds[NUM_3D_TRI], bit8 output[MAX_X][MAX_Y])
{
  // local variables

  // 2D triangle
  Triangle_2D triangle_2ds;
  // projection angle
  int angle = 0;

  // max-min index arrays
  bit8 max_min[5];
  int max_index[1];

  // fragments
  CandidatePixel fragment[500];

  // pixel buffer
  Pixel pixels[500];

  // processing NUM_3D_TRI 3D triangles
  TRIANGLES: for (int i = 0; i < NUM_3D_TRI; i ++ )
  {
    // five stages for processing each 3D triangle
    projection( triangle_3ds[i], &triangle_2ds, angle );
    bool flag = rasterization1(triangle_2ds, max_min, max_index);
    int size_fragment = rasterization2( flag, max_min, max_index, triangle_2ds, fragment );
    int size_pixels = zculling( i, fragment, size_fragment, pixels);
    coloringFB ( i, size_pixels, pixels, output);
  }

}

int main(){
}
[2Kvivado_hls> [12C[2Kvivado_hls> s[13C[2Kvivado_hls> set[15C[2Kvivado_hls> set_[16C[2Kvivado_hls> set_t[17C[2Kvivado_hls> set_top[19C[2Kvivado_hls> set_top [20C[2Kvivado_hls> set_top rendering_sw[32C
[2Kvivado_hls> [12C[2Kvivado_hls> c[13C[2Kvivado_hls> cs[14C[2Kvivado_hls> csy[15C[2Kvivado_hls> csynth_design[25C
INFO: [SCHED 204-61] Option 'relax_ii_for_timing' is enabled, will increase II to preserve clock frequency constraints.
WARNING: [HLS 200-40] Cannot find source file digitrec_sw.h; skipping it.
WARNING: [HLS 200-40] Cannot find source file digitrec_sw.cpp; skipping it.
INFO: [HLS 200-10] Analyzing design file 'rendering_sw.cpp' ... 
INFO: [HLS 200-111] Finished Linking Time (s): cpu = 00:00:14 ; elapsed = 00:00:57 . Memory (MB): peak = 899.422 ; gain = 199.102 ; free physical = 13622 ; free virtual = 36529
INFO: [HLS 200-111] Finished Checking Pragmas Time (s): cpu = 00:00:14 ; elapsed = 00:00:57 . Memory (MB): peak = 899.422 ; gain = 199.102 ; free physical = 13622 ; free virtual = 36529
INFO: [HLS 200-10] Starting code transformations ...
INFO: [HLS 200-111] Finished Standard Transforms Time (s): cpu = 00:00:15 ; elapsed = 00:00:59 . Memory (MB): peak = 899.422 ; gain = 199.102 ; free physical = 13614 ; free virtual = 36527
INFO: [HLS 200-10] Checking synthesizability ...
INFO: [XFORM 203-602] Inlining function 'check_clockwise' into 'rasterization1' (rendering_sw.cpp:151) automatically.
INFO: [XFORM 203-602] Inlining function 'clockwise_vertices' into 'rasterization1' (rendering_sw.cpp:154) automatically.
INFO: [XFORM 203-602] Inlining function 'find_min' into 'rasterization1' (rendering_sw.cpp:157) automatically.
INFO: [XFORM 203-602] Inlining function 'find_max' into 'rasterization1' (rendering_sw.cpp:158) automatically.
INFO: [XFORM 203-602] Inlining function 'pixel_in_triangle' into 'rasterization2' (rendering_sw.cpp:186) automatically.
INFO: [XFORM 203-602] Inlining function 'projection' into 'rendering_sw' (rendering_sw.cpp:279) automatically.
INFO: [HLS 200-111] Finished Checking Synthesizability Time (s): cpu = 00:00:15 ; elapsed = 00:00:59 . Memory (MB): peak = 899.422 ; gain = 199.102 ; free physical = 13614 ; free virtual = 36527
INFO: [XFORM 203-102] Partitioning array 'max_min' (rendering_sw.cpp:266) automatically.
INFO: [XFORM 203-102] Partitioning array 'max_index' (rendering_sw.cpp:267) automatically.
INFO: [XFORM 203-602] Inlining function 'check_clockwise' into 'rasterization1' (rendering_sw.cpp:151) automatically.
INFO: [XFORM 203-602] Inlining function 'clockwise_vertices' into 'rasterization1' (rendering_sw.cpp:154) automatically.
INFO: [XFORM 203-602] Inlining function 'find_min' into 'rasterization1' (rendering_sw.cpp:157) automatically.
INFO: [XFORM 203-602] Inlining function 'find_max' into 'rasterization1' (rendering_sw.cpp:158) automatically.
INFO: [XFORM 203-602] Inlining function 'pixel_in_triangle' into 'rasterization2' (rendering_sw.cpp:186) automatically.
INFO: [XFORM 203-602] Inlining function 'projection' into 'rendering_sw' (rendering_sw.cpp:279) automatically.
INFO: [XFORM 203-602] Inlining function 'rasterization2' into 'rendering_sw' (rendering_sw.cpp:281) automatically.
INFO: [XFORM 203-401] Performing if-conversion on hyperblock from (rendering_sw.cpp:148:53) to (rendering_sw.cpp:167:1) in function 'rasterization1'... converting 15 basic blocks.
INFO: [XFORM 203-602] Inlining function 'rasterization1' into 'rendering_sw' (rendering_sw.cpp:280) automatically.
INFO: [HLS 200-111] Finished Pre-synthesis Time (s): cpu = 00:00:16 ; elapsed = 00:01:00 . Memory (MB): peak = 899.422 ; gain = 199.102 ; free physical = 13595 ; free virtual = 36508
INFO: [HLS 200-111] Finished Architecture Synthesis Time (s): cpu = 00:00:16 ; elapsed = 00:01:00 . Memory (MB): peak = 899.422 ; gain = 199.102 ; free physical = 13585 ; free virtual = 36499
INFO: [HLS 200-10] Starting hardware synthesis ...
INFO: [HLS 200-10] Synthesizing 'rendering_sw' ...
WARNING: [SYN 201-107] Renaming port name 'rendering_sw/output' to 'rendering_sw/output_r' to avoid the conflict with HDL keywords or other object names.
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [HLS 200-42] -- Implementing module 'zculling' 
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [SCHED 204-11] Starting scheduling ...
INFO: [SCHED 204-11] Finished scheduling.
INFO: [HLS 200-111]  Elapsed time: 60.05 seconds; current allocated memory: 119.474 MB.
INFO: [HLS 200-434] Only 0 loops out of a total 3 loops have been pipelined in this design.
INFO: [BIND 205-100] Starting micro-architecture generation ...
INFO: [BIND 205-101] Performing variable lifetime analysis.
INFO: [BIND 205-101] Exploring resource sharing.
INFO: [BIND 205-101] Binding ...
INFO: [BIND 205-100] Finished micro-architecture generation.
INFO: [HLS 200-111]  Elapsed time: 0.19 seconds; current allocated memory: 119.894 MB.
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [HLS 200-42] -- Implementing module 'coloringFB' 
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [SCHED 204-11] Starting scheduling ...
INFO: [SCHED 204-11] Finished scheduling.
INFO: [HLS 200-111]  Elapsed time: 0.1 seconds; current allocated memory: 120.054 MB.
INFO: [BIND 205-100] Starting micro-architecture generation ...
INFO: [BIND 205-101] Performing variable lifetime analysis.
INFO: [BIND 205-101] Exploring resource sharing.
INFO: [BIND 205-101] Binding ...
INFO: [BIND 205-100] Finished micro-architecture generation.
INFO: [HLS 200-111]  Elapsed time: 0.05 seconds; current allocated memory: 120.242 MB.
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [HLS 200-42] -- Implementing module 'rendering_sw' 
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [SCHED 204-11] Starting scheduling ...
INFO: [SCHED 204-11] Finished scheduling.
INFO: [HLS 200-111]  Elapsed time: 0.25 seconds; current allocated memory: 121.018 MB.
INFO: [BIND 205-100] Starting micro-architecture generation ...
INFO: [BIND 205-101] Performing variable lifetime analysis.
INFO: [BIND 205-101] Exploring resource sharing.
INFO: [BIND 205-101] Binding ...
INFO: [BIND 205-100] Finished micro-architecture generation.
INFO: [HLS 200-111]  Elapsed time: 0.28 seconds; current allocated memory: 121.867 MB.
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [HLS 200-10] -- Generating RTL for module 'zculling' 
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [RTGEN 206-100] Finished creating RTL model for 'zculling'.
INFO: [HLS 200-111]  Elapsed time: 0.4 seconds; current allocated memory: 122.436 MB.
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [HLS 200-10] -- Generating RTL for module 'coloringFB' 
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [RTGEN 206-100] Finished creating RTL model for 'coloringFB'.
INFO: [HLS 200-111]  Elapsed time: 0.25 seconds; current allocated memory: 123.887 MB.
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [HLS 200-10] -- Generating RTL for module 'rendering_sw' 
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [RTGEN 206-500] Setting interface mode on port 'rendering_sw/triangle_3ds_x0' to 'ap_memory'.
INFO: [RTGEN 206-500] Setting interface mode on port 'rendering_sw/triangle_3ds_y0' to 'ap_memory'.
INFO: [RTGEN 206-500] Setting interface mode on port 'rendering_sw/triangle_3ds_z0' to 'ap_memory'.
INFO: [RTGEN 206-500] Setting interface mode on port 'rendering_sw/triangle_3ds_x1' to 'ap_memory'.
INFO: [RTGEN 206-500] Setting interface mode on port 'rendering_sw/triangle_3ds_y1' to 'ap_memory'.
INFO: [RTGEN 206-500] Setting interface mode on port 'rendering_sw/triangle_3ds_z1' to 'ap_memory'.
INFO: [RTGEN 206-500] Setting interface mode on port 'rendering_sw/triangle_3ds_x2' to 'ap_memory'.
INFO: [RTGEN 206-500] Setting interface mode on port 'rendering_sw/triangle_3ds_y2' to 'ap_memory'.
INFO: [RTGEN 206-500] Setting interface mode on port 'rendering_sw/triangle_3ds_z2' to 'ap_memory'.
INFO: [RTGEN 206-500] Setting interface mode on port 'rendering_sw/output_r' to 'ap_memory'.
INFO: [RTGEN 206-500] Setting interface mode on function 'rendering_sw' to 'ap_ctrl_hs'.
INFO: [RTGEN 206-100] Generating core module 'rendering_sw_mac_mulsub_9s_9s_18ns_18_1_1': 3 instance(s).
INFO: [RTGEN 206-100] Generating core module 'rendering_sw_udiv_16ns_8ns_8_20_seq_1': 1 instance(s).
INFO: [RTGEN 206-100] Generating core module 'rendering_sw_urem_16ns_8ns_8_20_seq_1': 1 instance(s).
INFO: [RTGEN 206-100] Finished creating RTL model for 'rendering_sw'.
INFO: [HLS 200-111]  Elapsed time: 0.22 seconds; current allocated memory: 126.246 MB.
INFO: [RTMG 210-278] Implementing memory 'zculling_z_buffer_ram (RAM)' using block RAMs with power-on initialization.
INFO: [RTMG 210-282] Generating pipelined core: 'rendering_sw_urem_16ns_8ns_8_20_seq_1_div'
INFO: [RTMG 210-282] Generating pipelined core: 'rendering_sw_udiv_16ns_8ns_8_20_seq_1_div'
INFO: [RTMG 210-278] Implementing memory 'rendering_sw_fragment_x_ram (RAM)' using block RAMs.
INFO: [HLS 200-111] Finished generating all RTL models Time (s): cpu = 00:00:19 ; elapsed = 00:01:04 . Memory (MB): peak = 899.422 ; gain = 199.102 ; free physical = 13552 ; free virtual = 36478
INFO: [VHDL 208-304] Generating VHDL RTL for rendering_sw.
INFO: [VLOG 209-307] Generating Verilog RTL for rendering_sw.
[2Kvivado_hls> [12C[2Kvivado_hls> l[13C[2Kvivado_hls> ls[14C
a.out
digit
rendering_sw.cpp
rendering_sw.h
sol
typedefs.h
typedefs.h.gch
vivado_hls.app
[2Kvivado_hls> [12C[2Kvivado_hls> l[13C[2Kvivado_hls> ls[14C[2Kvivado_hls> ls [15C[2Kvivado_hls> ls s[16C[2Kvivado_hls> ls so[17C[2Kvivado_hls> ls sol/[19C[2Kvivado_hls> ls sol/s[20C[2Kvivado_hls> ls sol/sy[21C[2Kvivado_hls> ls sol/syn/[23C[2K
[0mreport 
systemc 
verilog 
vhdl 
[0m
[2Kvivado_hls> ls sol/syn/[23C[2Kvivado_hls> ls sol/syn/v[24C[2K
[0mverilog 
vhdl 
[0m
[2Kvivado_hls> ls sol/syn/v[24C[2Kvivado_hls> ls sol/syn/ve[25C[2Kvivado_hls> ls sol/syn/verilog/[31C
coloringFB.v
rendering_sw_fragment_x.v
rendering_sw_mac_mulsub_9s_9s_18ns_18_1_1.v
rendering_sw_udiv_16ns_8ns_8_20_seq_1.v
rendering_sw_urem_16ns_8ns_8_20_seq_1.v
rendering_sw.v
zculling.v
zculling_z_buffer_ram.dat
zculling_z_buffer.v
[2Kvivado_hls> [12C[2Kvivado_hls> [12C[2Kvivado_hls> l[13C[2Kvivado_hls> ls[14C[2Kvivado_hls> l[13C[2Kvivado_hls> [12C[2Kvivado_hls> [12C[2Kvivado_hls> c[13C[2Kvivado_hls> cd[14C[2Kvivado_hls> cd [15C[2Kvivado_hls> cd s[16C[2K
[35mscriptsRoot 
supported_attributes 
[0m[0msol 
[0m
[2Kvivado_hls> cd s[16C[2Kvivado_hls> cd so[17C[2Kvivado_hls> cd sol/[19C[2Kvivado_hls> cd sol/s[20C[2Kvivado_hls> cd sol/sy[21C[2Kvivado_hls> cd sol/syn/[23C[2Kvivado_hls> cd sol/syn/r[24C[2Kvivado_hls> cd sol/syn/report/[30C
[2Kvivado_hls> [12C[2Kvivado_hls> l[13C[2Kvivado_hls> ls[14C
coloringFB_csynth.rpt
coloringFB_csynth.xml
csynth.xml
rendering_sw_csynth.rpt
rendering_sw_csynth.xml
zculling_csynth.rpt
zculling_csynth.xml
[2Kvivado_hls> [12C[2Kvivado_hls> c[13C[2Kvivado_hls> ca[14C[2Kvivado_hls> cat[15C[2Kvivado_hls> cat [16C[2Kvivado_hls> cat r[17C[2Kvivado_hls> cat re[18C[2K
[35mres 
[0m[0mrendering_sw_csynth.rpt 
rendering_sw_csynth.xml 
[0m
[2Kvivado_hls> cat re[18C[2Kvivado_hls> cat r[17C[2Kvivado_hls> cat [16C[2Kvivado_hls> cat[15C[2Kvivado_hls> ca[14C[2Kvivado_hls> c[13C[2Kvivado_hls> [12C[2Kvivado_hls> [12C[2Kvivado_hls> [12C[2Kvivado_hls> [12C[2Kvivado_hls> [12C[2Kvivado_hls> [12C[2Kvivado_hls> [12C[2Kvivado_hls> [12C[2Kvivado_hls> [12C[2Kvivado_hls> [12C[2Kvivado_hls> l[13C[2Kvivado_hls> ls[14C
coloringFB_csynth.rpt
coloringFB_csynth.xml
csynth.xml
rendering_sw_csynth.rpt
rendering_sw_csynth.xml
zculling_csynth.rpt
zculling_csynth.xml
[2Kvivado_hls> [12C[2Kvivado_hls> c[13C[2Kvivado_hls> ca[14C[2Kvivado_hls> cat[15C[2Kvivado_hls> cat [16C[2Kvivado_hls> cat c[17C[2Kvivado_hls> cat co[18C[2K
[35mcommand_files 
command_path 
command_paths 
core_var_list 
[0m[0mcoloringFB_csynth.rpt 
coloringFB_csynth.xml 
[0m
[2Kvivado_hls> cat co[18C[2Kvivado_hls> cat col[19C[2Kvivado_hls> cat coloringFB_csynth.[34C[2Kvivado_hls> cat coloringFB_csynth.o[35C[2Kvivado_hls> cat coloringFB_csynth.[34C[2Kvivado_hls> cat coloringFB_csynth.r[35C[2Kvivado_hls> cat coloringFB_csynth.rpt[37C


================================================================
== Vivado HLS Report for 'coloringFB'
================================================================
* Date:           Wed Jun 24 18:38:16 2020

* Version:        2019.1 (Build 2552052 on Fri May 24 15:28:33 MDT 2019)
* Project:        3d
* Solution:       sol
* Product family: kintex7
* Target device:  xc7k160t-fbg484-1


================================================================
== Performance Estimates
================================================================
+ Timing (ns): 
    * Summary: 
    +--------+-------+----------+------------+
    |  Clock | Target| Estimated| Uncertainty|
    +--------+-------+----------+------------+
    |ap_clk  |  10.00|     5.328|        1.25|
    +--------+-------+----------+------------+

+ Latency (clock cycles): 
    * Summary: 
    +-----+-----+-----+-----+---------+
    |  Latency  |  Interval | Pipeline|
    | min | max | min | max |   Type  |
    +-----+-----+-----+-----+---------+
    |    ?|    ?|    ?|    ?|   none  |
    +-----+-----+-----+-----+---------+

    + Detail: 
        * Instance: 
        N/A

        * Loop: 
        +-------------------------+-------+-------+----------+-----------+-----------+------+----------+
        |                         |    Latency    | Iteration|  Initiation Interval  | Trip |          |
        |        Loop Name        |  min  |  max  |  Latency |  achieved |   target  | Count| Pipelined|
        +-------------------------+-------+-------+----------+-----------+-----------+------+----------+
        |- COLORING_FB_INIT_ROW   |  66048|  66048|       258|          -|          -|   256|    no    |
        | + COLORING_FB_INIT_COL  |    256|    256|         1|          -|          -|   256|    no    |
        |- COLORING_FB            |      ?|      ?|         2|          -|          -|     ?|    no    |
        +-------------------------+-------+-------+----------+-----------+-----------+------+----------+



================================================================
== Utilization Estimates
================================================================
* Summary: 
+-----------------+---------+-------+--------+--------+-----+
|       Name      | BRAM_18K| DSP48E|   FF   |   LUT  | URAM|
+-----------------+---------+-------+--------+--------+-----+
|DSP              |        -|      -|       -|       -|    -|
|Expression       |        -|      -|       0|     152|    -|
|FIFO             |        -|      -|       -|       -|    -|
|Instance         |        -|      -|       -|       -|    -|
|Memory           |        -|      -|       -|       -|    -|
|Multiplexer      |        -|      -|       -|      90|    -|
|Register         |        -|      -|     104|       -|    -|
+-----------------+---------+-------+--------+--------+-----+
|Total            |        0|      0|     104|     242|    0|
+-----------------+---------+-------+--------+--------+-----+
|Available        |      650|    600|  202800|  101400|    0|
+-----------------+---------+-------+--------+--------+-----+
|Utilization (%)  |        0|      0|   ~0   |   ~0   |    0|
+-----------------+---------+-------+--------+--------+-----+

+ Detail: 
    * Instance: 
    N/A

    * DSP48E: 
    N/A

    * Memory: 
    N/A

    * FIFO: 
    N/A

    * Expression: 
    +----------------------+----------+-------+---+----+------------+------------+
    |     Variable Name    | Operation| DSP48E| FF| LUT| Bitwidth P0| Bitwidth P1|
    +----------------------+----------+-------+---+----+------------+------------+
    |add_ln245_fu_205_p2   |     +    |      0|  0|  25|          18|          18|
    |i_2_fu_224_p2         |     +    |      0|  0|  38|          31|           1|
    |i_fu_171_p2           |     +    |      0|  0|  16|           9|           1|
    |j_fu_195_p2           |     +    |      0|  0|  16|           9|           1|
    |icmp_ln239_fu_159_p2  |   icmp   |      0|  0|  13|          12|           1|
    |icmp_ln242_fu_165_p2  |   icmp   |      0|  0|  13|           9|          10|
    |icmp_ln244_fu_189_p2  |   icmp   |      0|  0|  13|           9|          10|
    |icmp_ln250_fu_219_p2  |   icmp   |      0|  0|  18|          32|          32|
    +----------------------+----------+-------+---+----+------------+------------+
    |Total                 |          |      0|  0| 152|         129|          74|
    +----------------------+----------+-------+---+----+------------+------------+

    * Multiplexer: 
    +-----------------------+----+-----------+-----+-----------+
    |          Name         | LUT| Input Size| Bits| Total Bits|
    +-----------------------+----+-----------+-----+-----------+
    |ap_NS_fsm              |  33|          6|    1|          6|
    |frame_buffer_address0  |  15|          3|   16|         48|
    |frame_buffer_d0        |  15|          3|    8|         24|
    |i1_0_reg_148           |   9|          2|   31|         62|
    |i_0_reg_126            |   9|          2|    9|         18|
    |j_0_reg_137            |   9|          2|    9|         18|
    +-----------------------+----+-----------+-----+-----------+
    |Total                  |  90|         18|   74|        176|
    +-----------------------+----+-----------+-----+-----------+

    * Register: 
    +--------------------+----+----+-----+-----------+
    |        Name        | FF | LUT| Bits| Const Bits|
    +--------------------+----+----+-----+-----------+
    |ap_CS_fsm           |   5|   0|    5|          0|
    |i1_0_reg_148        |  31|   0|   31|          0|
    |i_0_reg_126         |   9|   0|    9|          0|
    |i_2_reg_283         |  31|   0|   31|          0|
    |i_reg_262           |   9|   0|    9|          0|
    |icmp_ln239_reg_255  |   1|   0|    1|          0|
    |j_0_reg_137         |   9|   0|    9|          0|
    |zext_ln244_reg_267  |   9|   0|   18|          9|
    +--------------------+----+----+-----+-----------+
    |Total               | 104|   0|  113|          9|
    +--------------------+----+----+-----+-----------+



================================================================
== Interface
================================================================
* Summary: 
+-----------------------+-----+-----+------------+--------------+--------------+
|       RTL Ports       | Dir | Bits|  Protocol  | Source Object|    C Type    |
+-----------------------+-----+-----+------------+--------------+--------------+
|ap_clk                 |  in |    1| ap_ctrl_hs |  coloringFB  | return value |
|ap_rst                 |  in |    1| ap_ctrl_hs |  coloringFB  | return value |
|ap_start               |  in |    1| ap_ctrl_hs |  coloringFB  | return value |
|ap_done                | out |    1| ap_ctrl_hs |  coloringFB  | return value |
|ap_idle                | out |    1| ap_ctrl_hs |  coloringFB  | return value |
|ap_ready               | out |    1| ap_ctrl_hs |  coloringFB  | return value |
|counter                |  in |   12|   ap_none  |    counter   |    scalar    |
|size_pixels            |  in |   32|   ap_none  |  size_pixels |    scalar    |
|pixels_x_address0      | out |    9|  ap_memory |   pixels_x   |     array    |
|pixels_x_ce0           | out |    1|  ap_memory |   pixels_x   |     array    |
|pixels_x_q0            |  in |    8|  ap_memory |   pixels_x   |     array    |
|pixels_y_address0      | out |    9|  ap_memory |   pixels_y   |     array    |
|pixels_y_ce0           | out |    1|  ap_memory |   pixels_y   |     array    |
|pixels_y_q0            |  in |    8|  ap_memory |   pixels_y   |     array    |
|pixels_color_address0  | out |    9|  ap_memory | pixels_color |     array    |
|pixels_color_ce0       | out |    1|  ap_memory | pixels_color |     array    |
|pixels_color_q0        |  in |    8|  ap_memory | pixels_color |     array    |
|frame_buffer_address0  | out |   16|  ap_memory | frame_buffer |     array    |
|frame_buffer_ce0       | out |    1|  ap_memory | frame_buffer |     array    |
|frame_buffer_we0       | out |    1|  ap_memory | frame_buffer |     array    |
|frame_buffer_d0        | out |    8|  ap_memory | frame_buffer |     array    |
+-----------------------+-----+-----+------------+--------------+--------------+

[2Kvivado_hls> [12C
[2Kvivado_hls> [12C[2Kvivado_hls> l[13C[2Kvivado_hls> ls[14C
coloringFB_csynth.rpt
coloringFB_csynth.xml
csynth.xml
rendering_sw_csynth.rpt
rendering_sw_csynth.xml
zculling_csynth.rpt
zculling_csynth.xml
[2Kvivado_hls> [12C[2Kvivado_hls> l[13C[2Kvivado_hls> ls[14C
coloringFB_csynth.rpt
coloringFB_csynth.xml
csynth.xml
rendering_sw_csynth.rpt
rendering_sw_csynth.xml
zculling_csynth.rpt
zculling_csynth.xml
[2Kvivado_hls> [12CINFO: [HLS 200-112] Total elapsed time: 169.46 seconds; peak allocated memory: 126.246 MB.
INFO: [Common 17-206] Exiting vivado_hls at Wed Jun 24 18:40:04 2020...
