# annotate loop labels
../../../mark_labels.pl extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.c > extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main_labeled.c
# produces pre-link time optimization binary bitcode: extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.bc
clang extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main_labeled.c -emit-llvm -c -fno-builtin -m32 -I ../../../lib/include/ -I /usr/include/i386-linux-gnu -O3 -o extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.1.bc
../../../../llvm/Release+Asserts/bin/llvm-dis extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.1.bc
cp -f extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.1.bc extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.cv.bc
../../../../llvm/Release+Asserts/bin/opt -mem2reg -loops -loop-simplify < extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.cv.bc > extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.2.bc
# linking may produce llvm mem-family intrinsics
../../../../llvm/Release+Asserts/bin/llvm-ld  extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.2.bc -b=extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.linked.bc
# performs intrinsic lowering so that the linker may be optimized
../../../../llvm/Release+Asserts/bin/opt -load=../../../../llvm/Release+Asserts/lib/LLVMLegUp.so -legup-config=../../../legup.tcl -legup-config=config.tcl -legup-prelto < extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.linked.bc > extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.bc
# produces extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.bc binary bitcode and a.out shell script: lli extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.bc
../../../../llvm/Release+Asserts/bin/llvm-ld  extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.bc ../../../lib/llvm/liblegup.a ../../../lib/llvm/libm.a -b=extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.postlto.bc
# iterative modulo scheduling
../../../../llvm/Release+Asserts/bin/opt -load=../../../../llvm/Release+Asserts/lib/LLVMLegUp.so -legup-config=../../../legup.tcl -legup-config=config.tcl -basicaa -loop-simplify -modulo-schedule < extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.postlto.bc > extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.bc 
# produces textual bitcodes: extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.1.ll extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.ll extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.ll
../../../../llvm/Release+Asserts/bin/llvm-dis extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.linked.bc
../../../../llvm/Release+Asserts/bin/llvm-dis extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.prelto.bc
../../../../llvm/Release+Asserts/bin/llvm-dis extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.bc
# produces verilog: extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.v
../../../../llvm/Release+Asserts/bin/llc -legup-config=../../../legup.tcl -legup-config=config.tcl -march=v extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.bc -o extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.v
llc: utils.cpp:47: llvm::BasicBlock* legup::isEmptyFirstBB(llvm::BasicBlock*): Assertion `B' failed.
0  llc       0x08d11e18
1  llc       0x08d12384
2            0x40022400 __kernel_sigreturn + 0
3            0x40022424 __kernel_vsyscall + 16
4  libc.so.6 0x405f01df gsignal + 79
5  libc.so.6 0x405f3825 abort + 373
6  libc.so.6 0x405e9085
7  libc.so.6 0x405e9137
8  llc       0x0823de78 legup::isEmptyFirstBB(llvm::BasicBlock*) + 152
9  llc       0x08300518 legup::SchedulerMapping::createFSM(llvm::Function*, legup::SchedulerDAG*) + 344
10 llc       0x0829edbd legup::GenerateRTL::scheduleOperations() + 509
11 llc       0x082c0c0b legup::LegupPass::runOnModule(llvm::Module&) + 3947
12 llc       0x08c37cb0 llvm::MPPassManager::runOnModule(llvm::Module&) + 592
13 llc       0x08c38a58 llvm::PassManagerImpl::run(llvm::Module&) + 184
14 llc       0x08c38ba6 llvm::PassManager::run(llvm::Module&) + 38
15 llc       0x081cf86a main + 3786
16 libc.so.6 0x405db4d3 __libc_start_main + 243
17 llc       0x081e2a89
Stack dump:
0.	Program arguments: ../../../../llvm/Release+Asserts/bin/llc -legup-config=../../../legup.tcl -legup-config=config.tcl -march=v extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.bc -o extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.v 
1.	Running pass 'LegupPass backend' on module 'extr_.obs-studiolibobsobs-windows.c_get_virtual_key_with_main.bc'.
make: *** [all] Aborted (core dumped)
